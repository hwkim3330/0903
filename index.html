<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TSN CBS Implementation - LAN9692 Performance Evaluation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .authors {
            color: #34495e;
            font-style: italic;
        }
        
        nav {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        nav a {
            color: #764ba2;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 5px;
            transition: all 0.3s ease;
            display: block;
            background: rgba(118, 75, 162, 0.1);
        }
        
        nav a:hover {
            background: #764ba2;
            color: white;
            transform: translateY(-2px);
        }
        
        section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #764ba2;
        }
        
        h3 {
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        .abstract {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 8px;
            font-style: italic;
            margin-bottom: 20px;
        }
        
        .key-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .result-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            transform: scale(1);
            transition: transform 0.3s ease;
        }
        
        .result-card:hover {
            transform: scale(1.05);
        }
        
        .result-number {
            font-size: 3em;
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
        }
        
        .result-label {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .implementation-code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
        }
        
        pre {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .chart-container {
            margin: 30px 0;
            text-align: center;
        }
        
        .chart {
            max-width: 100%;
            height: 400px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th {
            background: #764ba2;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
        }
        
        .btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        footer {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            color: #7f8c8d;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #764ba2;
        }
        
        .timeline-item {
            position: relative;
            padding: 20px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 8px;
            width: calc(50% - 30px);
        }
        
        .timeline-item:nth-child(odd) {
            margin-left: auto;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }
            
            nav ul {
                flex-direction: column;
            }
            
            .timeline::before {
                left: 20px;
            }
            
            .timeline-item {
                width: calc(100% - 40px);
                margin-left: 40px !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>TSN Credit-Based Shaper Implementation</h1>
            <div class="subtitle">Performance Evaluation on 4-Port LAN9692 Switch for Automotive QoS</div>
            <div class="authors">Research Team - Automotive TSN Laboratory</div>
        </header>
        
        <nav>
            <ul>
                <li><a href="#abstract">Abstract</a></li>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#implementation">Implementation</a></li>
                <li><a href="#experiments">Experiments</a></li>
                <li><a href="#results">Results</a></li>
                <li><a href="#conclusion">Conclusion</a></li>
                <li><a href="#downloads">Downloads</a></li>
            </ul>
        </nav>
        
        <section id="abstract">
            <h2>Abstract</h2>
            <div class="abstract">
                This research presents a comprehensive implementation and performance evaluation of Credit-Based Shaper (CBS) 
                on the Microchip LAN9692 4-port TSN switch for automotive Ethernet applications. As modern vehicles transition 
                to zone-based E/E architectures, ensuring Quality of Service (QoS) for diverse traffic types becomes critical. 
                Our implementation demonstrates that CBS effectively guarantees bandwidth for time-sensitive video streams while 
                maintaining network efficiency, achieving less than 0.1% frame loss under heavy network congestion compared to 
                over 15% without CBS.
            </div>
        </section>
        
        <section id="key-results">
            <h2>Key Performance Metrics</h2>
            <div class="key-results">
                <div class="result-card">
                    <span class="result-number">99.4%</span>
                    <span class="result-label">Frame Loss Reduction</span>
                </div>
                <div class="result-card">
                    <span class="result-number">94.9%</span>
                    <span class="result-label">Latency Improvement</span>
                </div>
                <div class="result-card">
                    <span class="result-number">< 0.1%</span>
                    <span class="result-label">CBS Frame Loss Rate</span>
                </div>
                <div class="result-card">
                    <span class="result-number">4.8/5</span>
                    <span class="result-label">Video Quality (MOS)</span>
                </div>
            </div>
        </section>
        
        <section id="introduction">
            <h2>Introduction</h2>
            <h3>Background</h3>
            <p>
                The automotive industry is undergoing a paradigm shift with the advancement of autonomous driving and 
                connected car technologies. Traditional CAN and LIN-based networks face bandwidth limitations that cannot 
                support high-bandwidth sensors such as high-definition cameras, LiDAR, and radar systems.
            </p>
            
            <h3>Motivation</h3>
            <p>
                Zone-based architectures simplify network topology and reduce wiring while requiring different traffic 
                types to share the same network. In this environment, time-sensitive traffic (video streams, control signals) 
                coexists with best-effort traffic (diagnostic data, software updates), making QoS guarantees essential.
            </p>
            
            <h3>Research Objectives</h3>
            <ul>
                <li>Implement CBS mechanism on Microchip LAN9692 TSN switch</li>
                <li>Validate CBS performance in real automotive infotainment scenarios</li>
                <li>Provide CBS parameter optimization methodology</li>
                <li>Offer TSN deployment guidelines for zone-based architectures</li>
            </ul>
        </section>
        
        <section id="implementation">
            <h2>CBS Implementation</h2>
            <h3>Hardware Platform</h3>
            <p>
                The Microchip LAN9692 4-port TSN switch provides comprehensive TSN features including:
            </p>
            <ul>
                <li>4 × 10/100/1000 Mbps Ethernet ports</li>
                <li>IEEE 802.1Qav Credit-Based Shaper support</li>
                <li>8 traffic classes with independent configuration</li>
                <li>VLAN and PCP-based traffic classification</li>
                <li>IEEE 802.1AS time synchronization</li>
            </ul>
            
            <h3>Core Implementation</h3>
            <div class="implementation-code">
                <pre>/* CBS Configuration Structure */
typedef struct {
    uint32_t idle_slope;  /* bits per second */
    uint32_t send_slope;  /* bits per second */
    uint32_t hi_credit;   /* bytes */
    uint32_t lo_credit;   /* bytes */
    bool enabled;
} cbs_config_t;

/* Configure CBS for Traffic Class */
int lan9692_cbs_configure_tc(uint8_t port, uint8_t tc, cbs_config_t *config) {
    uint32_t cbs_base = LAN9692_CBS_BASE(port);
    
    /* Set Idle/Send Slopes */
    lan9692_write_reg(cbs_base + CBS_IDLE_SLOPE_REG, config->idle_slope);
    lan9692_write_reg(cbs_base + CBS_SEND_SLOPE_REG, config->send_slope);
    
    /* Set Credit Limits */
    lan9692_write_reg(cbs_base + CBS_HI_CREDIT_REG, config->hi_credit);
    lan9692_write_reg(cbs_base + CBS_LO_CREDIT_REG, config->lo_credit);
    
    return 0;
}</pre>
            </div>
        </section>
        
        <section id="experiments">
            <h2>Experimental Setup</h2>
            <h3>Network Configuration</h3>
            <table>
                <thead>
                    <tr>
                        <th>Port</th>
                        <th>Device</th>
                        <th>Traffic Type</th>
                        <th>Bandwidth</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Port 1</td>
                        <td>Video Source</td>
                        <td>2× H.264 Streams</td>
                        <td>15 Mbps each</td>
                    </tr>
                    <tr>
                        <td>Port 2</td>
                        <td>Video Receiver 1</td>
                        <td>Stream 1 Reception</td>
                        <td>15 Mbps</td>
                    </tr>
                    <tr>
                        <td>Port 3</td>
                        <td>Video Receiver 2</td>
                        <td>Stream 2 Reception</td>
                        <td>15 Mbps</td>
                    </tr>
                    <tr>
                        <td>Port 4</td>
                        <td>Traffic Generator</td>
                        <td>Best-Effort UDP</td>
                        <td>500-800 Mbps</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Test Scenarios</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <h4>Scenario 1: CBS Disabled</h4>
                    <p>All traffic treated equally with FIFO queuing</p>
                </div>
                <div class="timeline-item">
                    <h4>Scenario 2: CBS Enabled (20Mbps)</h4>
                    <p>20 Mbps reserved per video stream</p>
                </div>
                <div class="timeline-item">
                    <h4>Scenario 3: CBS Enabled (30Mbps)</h4>
                    <p>30 Mbps reserved per video stream</p>
                </div>
            </div>
        </section>
        
        <section id="results">
            <h2>Performance Results</h2>
            
            <h3>Throughput Comparison</h3>
            <div class="chart-container">
                <div class="chart">
                    <canvas id="throughputChart"></canvas>
                </div>
            </div>
            
            <h3>Frame Loss Rate Over Time</h3>
            <div class="chart-container">
                <div class="chart">
                    <canvas id="frameLossChart"></canvas>
                </div>
            </div>
            
            <h3>Performance Summary</h3>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>CBS Disabled</th>
                        <th>CBS 20Mbps</th>
                        <th>Improvement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Video Stream 1 Throughput</td>
                        <td>8.2 Mbps</td>
                        <td>14.8 Mbps</td>
                        <td>+80.5%</td>
                    </tr>
                    <tr>
                        <td>Video Stream 2 Throughput</td>
                        <td>7.9 Mbps</td>
                        <td>14.7 Mbps</td>
                        <td>+86.1%</td>
                    </tr>
                    <tr>
                        <td>Frame Loss Rate</td>
                        <td>15.7%</td>
                        <td>0.1%</td>
                        <td>-99.4%</td>
                    </tr>
                    <tr>
                        <td>Average Latency</td>
                        <td>45.2 ms</td>
                        <td>2.3 ms</td>
                        <td>-94.9%</td>
                    </tr>
                    <tr>
                        <td>Jitter</td>
                        <td>62.3 ms</td>
                        <td>0.8 ms</td>
                        <td>-98.7%</td>
                    </tr>
                    <tr>
                        <td>Video Quality (MOS)</td>
                        <td>2.1</td>
                        <td>4.8</td>
                        <td>+128.6%</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <section id="conclusion">
            <h2>Conclusion</h2>
            <p>
                This research successfully demonstrates the implementation and effectiveness of Credit-Based Shaper on 
                the Microchip LAN9692 TSN switch for automotive Ethernet applications. The results conclusively show that 
                CBS provides reliable QoS guarantees for time-sensitive traffic while maintaining network efficiency.
            </p>
            
            <h3>Key Achievements</h3>
            <ul>
                <li>Practical CBS implementation on LAN9692 hardware platform</li>
                <li>Achieved less than 0.1% frame loss rate under network congestion</li>
                <li>Provided CBS parameter optimization methodology</li>
                <li>Demonstrated immediate applicability to automotive networks</li>
            </ul>
            
            <h3>Future Work</h3>
            <ul>
                <li>Performance evaluation in more complex network topologies</li>
                <li>Optimization of CBS and TAS combination</li>
                <li>Machine learning-based dynamic parameter adjustment</li>
                <li>Long-term reliability testing in actual vehicle environments</li>
            </ul>
        </section>
        
        <section id="downloads">
            <h2>Resources & Downloads</h2>
            <div class="button-group">
                <a href="paper/paper_kr.md" class="btn">Full Paper (Korean)</a>
                <a href="https://github.com/hwkim3330/0903" class="btn">GitHub Repository</a>
                <a href="implementation/lan9692_cbs.c" class="btn">Source Code</a>
                <a href="experiments/results/" class="btn">Test Data</a>
            </div>
        </section>
        
        <footer>
            <p>© 2024 Automotive TSN Research Laboratory</p>
            <p>Supported by Korea Institute for Advancement of Technology (KEIT)</p>
            <p>Grant Number: RS-2024-00404601</p>
        </footer>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Throughput Chart
        const throughputCtx = document.getElementById('throughputChart');
        if (throughputCtx) {
            new Chart(throughputCtx, {
                type: 'bar',
                data: {
                    labels: ['CBS Disabled', 'CBS 20Mbps', 'CBS 30Mbps'],
                    datasets: [
                        {
                            label: 'Video Stream 1',
                            data: [8.2, 14.8, 14.9],
                            backgroundColor: 'rgba(102, 126, 234, 0.8)'
                        },
                        {
                            label: 'Video Stream 2',
                            data: [7.9, 14.7, 14.8],
                            backgroundColor: 'rgba(118, 75, 162, 0.8)'
                        },
                        {
                            label: 'BE Traffic (÷10)',
                            data: [78.4, 72.0, 70.0],
                            backgroundColor: 'rgba(237, 100, 166, 0.8)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Throughput (Mbps)'
                            }
                        }
                    }
                }
            });
        }
        
        // Frame Loss Chart
        const frameLossCtx = document.getElementById('frameLossChart');
        if (frameLossCtx) {
            const timeLabels = [];
            for (let i = 0; i <= 60; i += 5) {
                timeLabels.push(i);
            }
            
            new Chart(frameLossCtx, {
                type: 'line',
                data: {
                    labels: timeLabels,
                    datasets: [
                        {
                            label: 'CBS Disabled',
                            data: [0.2, 8.5, 12.3, 15.7, 18.2, 16.5, 17.3, 15.8, 16.2, 14.9, 15.3, 16.1, 15.7],
                            borderColor: 'rgba(255, 99, 132, 1)',
                            backgroundColor: 'rgba(255, 99, 132, 0.2)',
                            tension: 0.4
                        },
                        {
                            label: 'CBS Enabled',
                            data: [0, 0.1, 0.1, 0, 0.1, 0.1, 0, 0.1, 0, 0.1, 0.1, 0, 0.1],
                            borderColor: 'rgba(75, 192, 192, 1)',
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Frame Loss Rate (%)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Time (seconds)'
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>